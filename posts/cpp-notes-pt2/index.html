<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="A Tour of C++ - Reading Notes (Part 2/2)" /><meta name="author" content="Ian Y.E. Pan" /><meta property="og:locale" content="en_US" /><meta name="description" content="For Part 1, visit this previous post." /><meta property="og:description" content="For Part 1, visit this previous post." /><link rel="canonical" href="https://ianyepan.github.io/posts/cpp-notes-pt2/" /><meta property="og:url" content="https://ianyepan.github.io/posts/cpp-notes-pt2/" /><meta property="og:site_name" content="Ian Y.E. Pan" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-08T11:44:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="A Tour of C++ - Reading Notes (Part 2/2)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Ian Y.E. Pan" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ian Y.E. Pan"},"dateModified":"2023-09-02T05:59:14+08:00","datePublished":"2022-02-08T11:44:00+08:00","description":"For Part 1, visit this previous post.","headline":"A Tour of C++ - Reading Notes (Part 2/2)","mainEntityOfPage":{"@type":"WebPage","@id":"https://ianyepan.github.io/posts/cpp-notes-pt2/"},"url":"https://ianyepan.github.io/posts/cpp-notes-pt2/"}</script><title>A Tour of C++ - Reading Notes (Part 2/2) | Ian Y.E. Pan</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Ian Y.E. Pan"><meta name="application-name" content="Ian Y.E. Pan"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/36686900?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ian Y.E. Pan</a></div><div class="site-subtitle font-italic">software engineer, emacs enthusiast, keyboard lover. occasionally nerdy.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ianyepan" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/ianyepan/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ian.pan','columbia.edu'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always use light mode by default: Experimental */ /* self.setLight(); */ /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>A Tour of C++ - Reading Notes (Part 2/2)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>A Tour of C++ - Reading Notes (Part 2/2)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Ian Y.E. Pan </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Feb 8, 2022, 11:44 AM +0800" prep="on" > Feb 8, 2022 <i class="unloaded">2022-02-08T11:44:00+08:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Sep 1, 2023, 2:59 PM -0700" prefix="Updated " > Sep 1, 2023 <i class="unloaded">2023-09-02T05:59:14+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1476 words">8 min</span></div></div><div class="post-content"><p>For Part 1, visit <a href="../cpp-notes-pt1">this previous post</a>.</p><p>The selected following are some modern C++ features that I found interesting or unfamiliar at the time of reading “<a href="https://www.google.com/books/edition/_/UGtRtAEACAAJ?hl=en&amp;sa=X&amp;ved=2ahUKEwjRt8jLuN31AhWhZjUKHd2uC2sQre8FegQIFBAG">A Tour of C++</a>” by Professor <a href="https://en.wikipedia.org/wiki/Bjarne_Stroustrup">Bjarne Stroustrup</a>, whose C++ course at Columbia University I am currently enrolled in.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/images/bjarne1.jpg" alt="Bjarne" width="70%" /> <em>Bjarne Stroustrup, the creator of C++ and my professor at Columbia University</em></p><p>This post (Part 2) consists of my reading notes for chapter 8 through 14. Hopefully, by reading the points you’ll find something useful as well.</p><ol><li>For each header file from C’s standard library, there’s a version “with its name prefixed by <code class="language-plaintext highlighter-rouge">c</code> and without <code class="language-plaintext highlighter-rouge">.h</code>”. This version uses <code class="language-plaintext highlighter-rouge">std::</code> namespace (Ch.8 p.110).<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// C style</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span>
<span class="c1">// C++ style (std::)</span>
<span class="cp">#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="c1"> </span><span class="cp">
</span></pre></table></code></div></div><li><code class="language-plaintext highlighter-rouge">std::string::replace()</code>’s new replacement string doesn’t need to be the same length as the replaced target substring. (Ch.9 p.112)<li><p>String literals are <code class="language-plaintext highlighter-rouge">const char*</code> by default. If we want type <code class="language-plaintext highlighter-rouge">std::string</code>, we need the <code class="language-plaintext highlighter-rouge">s</code> suffix (Ch.9 p.113).</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="cm">/*
 * The "s" suffix needs one of the following namespace to be included:
 *   - using namespace std::literals 
 *   - using namespace std::string_literals 
 *   - using namespace std::literals::string_literal
 */</span>
<span class="k">auto</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">"Ian"</span><span class="p">;</span>  <span class="c1">// const char* (C-style)</span>
<span class="k">auto</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">"Pan"</span><span class="n">s</span><span class="p">;</span> <span class="c1">// std::string</span>
</pre></table></code></div></div><li>“Short string optimization”: short string values are kept in the string object (special optimization), and only longer strings are placed on free store (dynamically allocated memory on the heap) as the usual case. (Ch.9 p.113)<li><code class="language-plaintext highlighter-rouge">string_view</code> is a read-only view of its characters (Ch.9 115).<li>“Raw string literals” starting with <code class="language-plaintext highlighter-rouge">R"(</code> and ending with <code class="language-plaintext highlighter-rouge">)"</code> allows backslashes to be used directly in strings. E.g. <code class="language-plaintext highlighter-rouge">"\\w{2}\\d{4}"</code> can become <code class="language-plaintext highlighter-rouge">R"(\w{2}\d{4})"</code> (Ch.9 p.116).<li>(Ch.10 p.125) In output streams, the “result of an output expression can be used for further output”. This is why we can chain multiple “put-to” (<code class="language-plaintext highlighter-rouge">&lt;&lt;</code>) statements.<li>(Ch.10 p.126) The same can be said for input streams: we can chain multiple “get-from” (<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>) statements.<ul><li>The read of an integer will stop when a character is not a digit. Also, <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> will skip initial whitespaces by default.</ul><li>We can use <code class="language-plaintext highlighter-rouge">istream1 &gt;&gt; char1</code> as a condition, meaning “Did we successfully read a character from istream1 into char1?” (Ch.10 p.128)<li><code class="language-plaintext highlighter-rouge">istream &gt;&gt; ch</code> skips whitespace by default, but <code class="language-plaintext highlighter-rouge">istream.get(ch)</code> does not (Ch.10 p.128).<li>Formatting with manipulators (placed between the output stream and the target to output) (Ch.10 p.129):<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">hex</span> <span class="o">&lt;&lt;</span> <span class="mi">1234</span><span class="p">;</span> <span class="c1">// "4d2"</span>
</pre></table></code></div></div><p>Other manipulators include <code class="language-plaintext highlighter-rouge">std::oct</code>, <code class="language-plaintext highlighter-rouge">std::scientific</code>, <code class="language-plaintext highlighter-rouge">std::hexfloat</code>, etc.</p><li>(Ch. 10 p.130) <code class="language-plaintext highlighter-rouge">std::cout.precision()</code> or <code class="language-plaintext highlighter-rouge">std::setprecision()</code> can round floating numbers by a length limit. Note that it limits the length “in total”, not just after the decimal point:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mf">1234.567890</span><span class="p">;</span> <span class="c1">// 1234.568 (length 7 in total)</span>
</pre></table></code></div></div><p>However, if the original number was an integer, “precision” has no effect:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">123456789</span><span class="p">;</span> <span class="c1">// 123456789 (not truncated/rounded at all)</span>
</pre></table></code></div></div><p>If we want to restore the default precision, we can store it before modifying it:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">x</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">// later restore</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></table></code></div></div><li>(Ch.10 p.132) C-style I/O (printf, scanf) has better I/O performance. If we don’t use C-style I/O but care about I/O performance, we can call:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
</pre></table></code></div></div><li>The file system library <code class="language-plaintext highlighter-rouge">&lt;filesystem&gt;</code> allows us to express file system paths and navigate through a file system, examining file types and their associated permissions. (Ch.10 p.132)<li><code class="language-plaintext highlighter-rouge">std::vector</code>’s subscript operator does not check range – it’ll give some random value rather than throwing an error! (Ch.11 p.141) This is because checking the range implies an extra 10%-order cost:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span> <span class="c1">// 0. No error thrown.</span>
</pre></table></code></div></div><ul><li>Use <code class="language-plaintext highlighter-rouge">.at()</code> to check range and throw out-of-range error:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="c1">// terminate called after throwing an instance of 'std::out_of_range'</span>
</pre></table></code></div></div></ul><li><code class="language-plaintext highlighter-rouge">std::list</code> are doubly-linked. Can be used over vectors if insertions and deletions are frequent (Ch.11 p.142).<ul><li>There’s also a singly-linked list in STL, called <code class="language-plaintext highlighter-rouge">std::forward_list</code> (Ch.11 p.143). This can save space, since each node will only have 1 pointer instead of 2.</ul><li>Every STL container provides the functions <code class="language-plaintext highlighter-rouge">begin()</code> and <code class="language-plaintext highlighter-rouge">end()</code> (Ch.11 p.143).<li><code class="language-plaintext highlighter-rouge">std::equal_range()</code> returns a pair that contains the values of <code class="language-plaintext highlighter-rouge">std::lower_bound()</code> and <code class="language-plaintext highlighter-rouge">std::upper_bound()</code> (Ch.11 p.143).<li><code class="language-plaintext highlighter-rouge">std::map</code> (a.k.a. associative array, dictionary) is a balanced binary search tree, usually implemented by a red-black tree (Ch.11 p.144).<ul><li>Use <code class="language-plaintext highlighter-rouge">find()</code> instead of <code class="language-plaintext highlighter-rouge">[]</code> to avoid inserting default values with keys that don’t exist.<li>The cost of map lookup is O(log n).</ul><li>Emplace operations, “such as <code class="language-plaintext highlighter-rouge">emplace_back()</code>, takes arguments for an element’s constructor and builds the object in a newly allocated space in the container rather than copying an object into the container” (Ch.11 p.147):<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">"hello"</span><span class="p">));</span>
<span class="n">v</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">"hi"</span><span class="p">);</span>
</pre></table></code></div></div><li>(Ch.11 p.148) We can often create good hash functions by combining standard hash functions for elements using the exclusive-or operator (<code class="language-plaintext highlighter-rouge">^</code>).<li><code class="language-plaintext highlighter-rouge">std::back_inserter()</code> returns an iterator (<code class="language-plaintext highlighter-rouge">std::back_insert_iterator</code>) that can be used to append values to the back of a container (Ch.12 p.150). With this function, we can avoid using <code class="language-plaintext highlighter-rouge">realloc()</code>, which is more C-style and error-prone.<li>Iterators can be great middlemen. STL algorithms can operate on a container’s data through iterators without knowing anything about the container (Ch.12 p.153).<li>No STL algorithm adds or subtracts elements of a container (Ch.12 p.157). For that, we need container methods (<code class="language-plaintext highlighter-rouge">push_back()</code>, <code class="language-plaintext highlighter-rouge">erase()</code>) or functions that knows about the container, like <code class="language-plaintext highlighter-rouge">back_inserter()</code>.<li>Many STL algorithms, such as find, count, replace, sort, copy, have parallel versions, invoked by passing an extra argument:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">sort</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">));</span>                      <span class="c1">// default, sequential</span>
<span class="n">sort</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">execution</span><span class="o">::</span><span class="n">seq</span><span class="p">,</span> <span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">));</span> <span class="c1">// default, sequential</span>
<span class="n">sort</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">execution</span><span class="o">::</span><span class="n">par</span><span class="p">,</span> <span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">));</span> <span class="c1">// parallel</span>
</pre></table></code></div></div><li>Multiple <code class="language-plaintext highlighter-rouge">shared_ptr</code> instances of an object “share” the ownership. The object will be destroyed when “the last shared pointer” is destroyed (Ch.13 p.165). Unique pointers are generally more efficient because it does not need to track the “use count” that shared pointers do.<li>STL containers’ “moved-from state” is “empty” (Ch.13 p.168).<li>There is no time/space overhead to use <code class="language-plaintext highlighter-rouge">std::array</code> versus the built-in C-style array (Ch.13 p.171).<li>The second template argument (size) of <code class="language-plaintext highlighter-rouge">std::array</code> must be a constant expression (Ch.13 p.171):<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span> <span class="c1">// error: size not a constant expression</span>
</pre></table></code></div></div><ul><li><p>We need to specify n as a “const” or a “constexpr” here, like so:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span> <span class="c1">// good</span>

<span class="k">constexpr</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span> <span class="c1">// good</span>
</pre></table></code></div></div><li><p>Note that we cannot use a function parameter as the size of the array, because function parameters are <strong>never</strong> constant expressions:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span> <span class="c1">// error!</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="k">constexpr</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// invalid constexpr!</span>
  <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span>
<span class="p">}</span>
</pre></table></code></div></div><li><p>To solve this, we must make a template like so:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">n</span><span class="p">&gt;</span>
<span class="k">auto</span> <span class="n">func2</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
  <span class="k">return</span> <span class="n">a</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">func2</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</pre></table></code></div></div></ul><li><p><code class="language-plaintext highlighter-rouge">std::array</code> can be passed to C-style function that expects a pointer, using <code class="language-plaintext highlighter-rouge">.data()</code>, or with the explicit address of its first element (Ch.13 p.171):</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">func1</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sz</span><span class="p">);</span>
    
<span class="kt">void</span> <span class="nf">func2</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">n</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
  <span class="n">func1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>         <span class="c1">// ERROR!</span>
  <span class="n">func1</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">n</span><span class="p">);</span>     <span class="c1">// good</span>
  <span class="n">func1</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span> <span class="n">n</span><span class="p">);</span>  <span class="c1">// good</span>
<span class="p">}</span>
</pre></table></code></div></div><li>Advantages of <code class="language-plaintext highlighter-rouge">std::array</code> over built-in C-style array include (Ch.13 p.172):<ul><li>Ease of use with STL algorithms.<li>Can be copied using <code class="language-plaintext highlighter-rouge">=</code>.<li>No surprising conversions to pointers.</ul><li><p>“Template argument type deduction from constructor arguments” is added in C++17 (Ch.13 p.174):</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">tuple</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">tup1</span><span class="p">{</span><span class="s">"Ian Pan"</span><span class="p">,</span> <span class="mi">123</span><span class="p">};</span> <span class="c1">// pre C++17</span>
<span class="n">tuple</span>              <span class="n">tup2</span><span class="p">{</span><span class="s">"Ian Pan"</span><span class="n">s</span><span class="p">,</span> <span class="mi">123</span><span class="p">};</span> <span class="c1">// post C++17</span>
<span class="c1">// Alternatively...</span>
<span class="k">auto</span> <span class="n">tup3</span> <span class="o">=</span> <span class="n">make_tuple</span><span class="p">(</span><span class="s">"Ian Pan"</span><span class="n">s</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>
</pre></table></code></div></div><ul><li>Getting an element from a tuple can be done as follows:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">auto</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tup1</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">get</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tup1</span><span class="p">);</span>
</pre></table></code></div></div><li>We also use <code class="language-plaintext highlighter-rouge">get&lt;&gt;()</code> to <strong>write</strong> to the tuple:<div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tup1</span><span class="p">)</span> <span class="o">=</span> <span class="s">"Columbia"</span><span class="p">;</span>
<span class="n">get</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tup1</span><span class="p">)</span> <span class="o">=</span> <span class="s">"University"</span><span class="p">;</span>
</pre></table></code></div></div></ul><li>An <code class="language-plaintext highlighter-rouge">optional&lt;T&gt;</code> can be seen as a special kind of variant, like a <code class="language-plaintext highlighter-rouge">variant&lt;T, nothing&gt;</code> (Ch.13 p.176).<li><code class="language-plaintext highlighter-rouge">std::enable_if</code> is widely used for conditionally introducing definitions (e.g. for defining an operator member function) (Ch.13 p.184).<li><p>(Ch.14 p.192) To generate random numbers, one can specify the “engine”, the “distribution” (e.g. uniform, Gaussian, exponential, etc.) and create a “generator” out of it:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">using</span> <span class="n">my_engine</span> <span class="o">=</span> <span class="n">default_random_engine</span><span class="p">;</span>
<span class="k">using</span> <span class="n">my_distribution</span> <span class="o">=</span> <span class="n">uniform_int_distribution</span><span class="o">&lt;&gt;</span><span class="p">;</span>
<span class="n">my_engine</span> <span class="n">eng</span><span class="p">{};</span>
<span class="n">my_distribution</span> <span class="n">dice</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">};</span>
<span class="k">auto</span> <span class="n">rollDice</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">dice</span><span class="p">(</span><span class="n">eng</span><span class="p">);</span> <span class="p">};</span>
    
<span class="k">auto</span> <span class="n">num</span> <span class="o">=</span> <span class="n">rollDice</span><span class="p">();</span>
</pre></table></code></div></div><li><code class="language-plaintext highlighter-rouge">std::valarray</code> is a vector-like container that supports element-wise mathematical operations, as well as slicing and shifting (rolling). (Basically, the superpowers we thought was unique to Python) (Ch.14 p.192)<li>Word of advice: “Consider <code class="language-plaintext highlighter-rouge">accumulate()</code>, <code class="language-plaintext highlighter-rouge">inner_product()</code>, <code class="language-plaintext highlighter-rouge">partial_sum()</code>, and <code class="language-plaintext highlighter-rouge">adjacent_difference()</code> before you write a loop to compute a value from a sequence” (Ch.14 p.193).</ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a> <a href="/tags/tips/" class="post-tag no-text-decoration" >tips</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=A Tour of C++ - Reading Notes (Part 2/2) - Ian Y.E. Pan&url=https://ianyepan.github.io/posts/cpp-notes-pt2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=A Tour of C++ - Reading Notes (Part 2/2) - Ian Y.E. Pan&u=https://ianyepan.github.io/posts/cpp-notes-pt2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=A Tour of C++ - Reading Notes (Part 2/2) - Ian Y.E. Pan&url=https://ianyepan.github.io/posts/cpp-notes-pt2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-default-monospace-fonts-pt1/">Gentle Intro to System Default Monospace Fonts (Part 1/2)</a><li><a href="/posts/cpp-notes-pt2/">A Tour of C++ - Reading Notes (Part 2/2)</a><li><a href="/posts/cpp-notes-pt1/">A Tour of C++ - Reading Notes (Part 1/2)</a><li><a href="/posts/c-web-server/">Building a Simple Web Server in C - an open source project</a><li><a href="/posts/sticky-notes/">Syncing Sticky Notes Between Laptop and Mobile</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/tips/">tips</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/emacs/">emacs</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/workflow/">workflow</a> <a class="post-tag" href="/tags/chinese/">chinese</a> <a class="post-tag" href="/tags/fonts/">fonts</a> <a class="post-tag" href="/tags/essay/">essay</a> <a class="post-tag" href="/tags/fragrance/">fragrance</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/emacs-ide/"><div class="card-body"> <span class="timeago small" > Feb 11, 2022 <i class="unloaded">2022-02-11T09:18:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building an Intelligent Emacs</h3><div class="text-muted small"><p> This post introduces the combination of Emacs and LSP, and how you can make your own editor “smarter” by using the same idea of communications between an editor client and multiple language serv...</p></div></div></a></div><div class="card"> <a href="/posts/emacs-emojis/"><div class="card-body"> <span class="timeago small" > Feb 17, 2022 <i class="unloaded">2022-02-17T11:18:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Native Emojis in Emacs</h3><div class="text-muted small"><p> This short post will help you set up emoji support in Emacs. First, let’s see the results: Emacs showing emojis Step one, you must have an emoji font installed. I really adore the new fluent de...</p></div></div></a></div><div class="card"> <a href="/posts/emacs-git-gutter/"><div class="card-body"> <span class="timeago small" > Feb 18, 2022 <i class="unloaded">2022-02-18T03:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Git Gutter in Emacs</h3><div class="text-muted small"><p> When I first started programming using Visual Studio Code, I’ve benefited much from the git gutter indicators that show added/deleted/modified code blocks that haven’t been committed by git. This a...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/cpp-custom-hash/" class="btn btn-outline-primary" prompt="Older"><p>Custom Hash Functions for C++ Unordered Containers</p></a> <a href="/posts/emacs-ide/" class="btn btn-outline-primary" prompt="Newer"><p>Building an Intelligent Emacs</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ianyepan">Ian Y.E. Pan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Source code to this website can be found <a href="https://github.com/ianyepan/ianyepan.github.io">here.</a></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/tips/">tips</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/emacs/">emacs</a> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/workflow/">workflow</a> <a class="post-tag" href="/tags/chinese/">chinese</a> <a class="post-tag" href="/tags/fonts/">fonts</a> <a class="post-tag" href="/tags/essay/">essay</a> <a class="post-tag" href="/tags/fragrance/">fragrance</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ianyepan.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
